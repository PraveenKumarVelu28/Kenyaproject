<!-- <ngx-spinner bdColor="rgba(68,64,66,0.8)" size="large" color="#eb0000" type="ball-clip-rotate-multiple"
    [fullScreen]="true">
    <p style="color: white"> Loading... </p>
</ngx-spinner> -->
<div class="container-fluid bg">
    <div class="row">
        <div class="col-lg-1"></div>
        <div class="col-lg-4" style="text-align: center;">
            <br><br><br>
            <div style="background-color: #322b6b;padding: 12%;border-radius: 20px;">
                <form #loginForm="ngForm">
                    <h3
                        style="border-radius: 10px;padding-top: 3%;height:114px;width:100%;background-color: white;color: aliceblue;">
                        <img src="assets/Images/logo.png" style="margin-top: -14px;width: 29%;">
                        <h6 style="color: #322b6b;margin-top: -9px;
              font-size: 10px;"></h6>
                    </h3>
                    <br>
                    <!-- <select class="form-control" style="hei  ght:40px;" (change)="GetCountryID($event)">
              <option value="0" selected>Select Country</option>
              <option *ngFor="let cou of countrylist" value={{cou.countryID}}>{{cou.countryName}}</option>
            </select><br> -->
                    <!-- *ngIf="countryid!=null" -->
                    <div>
                        <select class="form-control" style="height:40px;" (change)="GetLanguageID($event)">
                            <option value="" selected>Select Language</option>
                            <option *ngFor="let lang of languagelist" value={{lang.id}}>{{lang.languageName}}</option>
                        </select>
                    </div>
                    <br>
                    <div *ngIf="LanguageID!=null">
                        <select class="form-control" style="height:40px;"  (change)="onchangeFunction($event)">
                            <option value="" selected>Select Role</option>
                            <option value="1" >Admin</option>
                            <option value="2" >Diagnostic centre</option>
                            <!-- <option *ngFor="let role of rolelist" value={{role.id}}>{{role.short}}</option> -->
                        </select>

                        <!-- <input type="text" [(ngModel)]="pinno" style="height:40px;" name="pinno" required
                            placeholder="{{labels[0].pinno}}" class="form-control"
                            onkeypress='return(event.charCode>=48&&event.charCode<=57)'> -->
                        <br>
                        <input type="text" id="uname" [(ngModel)]="uname" style="height:40px;" name="uname" required
                            placeholder="username" class="form-control">
                        <br>

                        <input type="password" [(ngModel)]="pwd" style="height:40px;" id="pwd" name="pwd" required
                            placeholder="password" class="form-control">
                        <!-- <input type="text"   [(ngModel)]="otp" style="height:40px;" name="otp" required placeholder="Password"
              class="form-control"> -->
                        <label
                            style="color:#f18235;float: right;cursor: pointer;" data-toggle="modal" data-target="#changepassword">Forgot Password</label><br>

                        <button type="submit" class="form-control login" (click)="login()"
                            [disabled]="loginForm.form.invalid">Login</button>
                    </div>
                </form>
            </div>
        </div><br>
        <div class="col-lg-1">
        </div>
    </div>
</div>
<div id="changepassword" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content" style="margin-top: 100px;">
            <div class="modal-header">
                <h4>Forgot Password</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-1">
                    </div>
                    <div class="col-lg-3 ">
                        <p style="padding:5px">Enter Email
                            <span class="starspan">*</span>
                        </p>
                    </div>
                    <div class="col-lg-8 ">
                        <input type="text" [(ngModel)]="email" class="form-control" name="email" id="email" required
                            placeholder="Enter Email" class="form-control">
                    </div>
                </div>
                <p *ngIf="showotp==1"> 6-digit verification code was just sent to your Email.Please Verify </p>
                <div *ngIf="showotp==1" class="row">
                    <div class="col-lg-1">
                    </div>
                    <div class="col-lg-3 ">
                        <p style="padding:5px">Enter OTP
                            <span class="starspan">*</span>
                        </p>
                    </div>
                    <div class="col-lg-8 ">
                        <input type="text" [(ngModel)]="Otp" maxlength="6" class="form-control" name="Otp" id="Otp"
                            required placeholder="Enter OTP" class="form-control">
                    </div>
                </div>
                <div *ngIf="showotp==2" class="row">
                    <div class="col-lg-1">
                    </div>
                    <div class="col-lg-3 ">
                        <p style="padding:5px">New Password
                            <span class="starspan">*</span>
                        </p>
                    </div>
                    <div class="col-lg-8 ">
                        <input type="text" [(ngModel)]="newpassword" class="form-control" name="newpassword"
                            id="newpassword" required placeholder="New Password" class="form-control">
                    </div>
                </div>
                <div *ngIf="showotp==0" class="row">
                    <div class="col-lg-4">
                    </div>
                    <div class="col-lg-2">
                        <button style="width: auto;" [disabled]="email === ''" class="btn btn-success form-control"
                            type="button" (click)="SendOTP()">Submit</button>
                    </div>
                </div>
                <div *ngIf="showotp==1" class="row">
                    <div class="col-lg-4">
                    </div>
                    <div class="col-lg-2">
                        <button style="width: auto;" class="btn btn-success form-control" type="button"
                            (click)="VerifyOTP()">Verify</button>
                    </div>
                </div>
                <div *ngIf="showotp==2" class="row">
                    <div class="col-lg-4">
                    </div>
                    <div class="col-lg-2">
                        <button style="width: auto;" [disabled]="newpassword==undefined"
                            class="btn btn-success form-control" data-dismiss="modal" type="button"
                            (click)="Save()">Save</button>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>